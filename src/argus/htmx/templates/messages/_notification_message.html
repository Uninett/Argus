{% load argus_htmx %}
{% with autoclose=message|autoclose_time %}
  <div class="alert flex justify-between w-fit border-3 {% if message.tags %}{{ message.tags }}{% endif %}"
       {% if autoclose >= 0 %}_="on load wait {{ autoclose }}s then add .autoclosing to me then wait 0.3s then remove me"{% endif %}>
    {% block message-content %}
      <div class="flex items-center gap-2">
        {% if "error" in message.tags %}
          <i class="fa-solid fa-circle-xmark" aria-hidden="true"></i>
        {% elif "warning" in message.tags %}
          <i class="fa-solid fa-triangle-exclamation" aria-hidden="true"></i>
        {% elif "success" in message.tags %}
          <i class="fa-solid fa-circle-check" aria-hidden="true"></i>
        {% else %}
          <i class="fa-solid fa-circle-info" aria-hidden="true"></i>
        {% endif %}
        <span>{{ message }}</span>
      </div>
    {% endblock message-content %}
    <button type="button"
            class="btn btn-ghost btn-sm btn-circle"
            aria-label="Dismiss message"
            _="on click remove closest .alert">
      <i class="fa-solid fa-xmark" aria-hidden="true"></i>
    </button>
  </div>
{% endwith %}
